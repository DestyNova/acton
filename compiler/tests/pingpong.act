def relay(t,m):
    after t: m()

actor Pingpong(i):
    var count = 0
#    ping : action() -> None
#    _pong : action(int) -> None
    def ping():
        count = count + i
        print('{i} Ping {count}')
        after 1: _pong(-count)
    def _pong(q):
        print('{i}      {q} Pong')
        #after 2: ping()
        relay(2, ping)
    ping()

